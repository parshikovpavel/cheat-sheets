# Graceful shutdown

https://www.youtube.com/watch?v=ASiF-AH7GFc&t=415s

Существует виды завершения приложения:

- hard (жесткое)
- graceful (изящное)

## Hard

Выходим из приложения при любой проблеме с помощью:

- `os.Exit()`
- `panic()`
- `log.Fatal()`

Преимущества:

- сделать очень просто



## Graceful

Сделать сложно. Нужно знать:

- какие операции произвести
- в каком порядке их произвести (закрыть соединение после того как будут завершены все *goroutine*'s, которые в него пишут

Преимущества:

- корректное завершение запущенных *goroutine*'s
- контроль – правильное закрытие коннекта к БД, файла, возвращение *message* в *queue*
- экономия ресурсов – возможность дождаться выполнение запроса, и в этом случае его не пришлось бы запускать повторно. В случае *hard shutdown* – например, *message* не был бы обработан, *message* вернулся в очередь и обрабатывался бы повторно.