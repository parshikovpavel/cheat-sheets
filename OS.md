# Stack

https://gribblelab.org/teaching/CBootCamp/7_Memory_Stack_vs_Heap.html

*Stack* – это область памяти, в которой хранятся временные переменные, созданные каждой функцией (включая функцию `main()`). *Stack* – LIFO структура). Когда функция завершается, **все** переменные, помещенные (*pushed*) этой функцией в стек, удаляются (в связи с освобождением этой части *stack*'а). После освобождения этой части stack'а, память становится доступной для других переменных *stack*'а.

Преимущества использования *stack*'а:

- не нужно самостоятельно управлять памятью (не нужно вручную делать *allocate* и *free*)
- т.к. CPU эффективно управляет *stack memory*, чтение и запись переменных в *stack* происходит очень быстро.
- данные в *stack*'е доступны локально, в пределах *local scope*. 
- существует ограничение (зависит от ОС) на размер переменных, которые могут быть размещены в *stack*'е.
- 





# Heap

Куча - это область памяти, которая в С++ не управляется автоматически. В С++ память в heap выделяется явно с помозью `malloc()`. После выделения памяти, ее необходимо явно освободить с помощью `free()`. Иначе произойдет *memory leak* (утечка памяти). 



В отличие от стека, куча не имеет ограничений размера на переменный размер (кроме очевидных физических ограничений вашего компьютера). Память кучи немного медленнее для чтения и записи, потому что для доступа к памяти в куче необходимо использовать **указатели** . Вскоре мы поговорим об указателях.

В отличие от стека, переменные, созданные в куче, доступны любой функции в любом месте вашей программы. Переменные кучи по сути глобальны по своему охвату.

- 





# *Stack* и *heap* в Go

https://medium.com/eureka-engineering/understanding-allocations-in-go-stack-heap-memory-9a2631b5035d

https://stackoverflow.com/questions/10866195/stack-vs-heap-allocation-of-structs-in-go-and-how-they-relate-to-garbage-collec

https://segment.com/blog/allocation-efficiency-in-high-performance-go-services/

https://stackoverflow.com/questions/28484976/storing-a-pointer-to-a-stack-value-golang

https://stackoverflow.com/questions/38234487/returning-a-pointer-on-stack

